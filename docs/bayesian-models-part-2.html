<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 8 Bayesian Models Part 2 | MATH 454 Bayesian Statistics - College Ranking</title>
  <meta name="description" content="Chapter 8 Bayesian Models Part 2 | MATH 454 Bayesian Statistics - College Ranking" />
  <meta name="generator" content="bookdown  and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 8 Bayesian Models Part 2 | MATH 454 Bayesian Statistics - College Ranking" />
  <meta property="og:type" content="book" />
  
  
  
  <meta name="github-repo" content="zuofuhuang/CollegeRanking" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 8 Bayesian Models Part 2 | MATH 454 Bayesian Statistics - College Ranking" />
  
  
  

<meta name="author" content="Zuofu Huang and Kavya Shetty, Spring 2019 Macalester College" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="bayesian-models-part-1-2-liberal-arts.html">
<link rel="next" href="becoming-a-proud-bayesian.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Preface</a></li>
<li class="chapter" data-level="2" data-path="motivation.html"><a href="motivation.html"><i class="fa fa-check"></i><b>2</b> Motivation</a><ul>
<li class="chapter" data-level="2.1" data-path="motivation.html"><a href="motivation.html#why-this"><i class="fa fa-check"></i><b>2.1</b> Why this?</a></li>
<li class="chapter" data-level="2.2" data-path="motivation.html"><a href="motivation.html#a-snapshot"><i class="fa fa-check"></i><b>2.2</b> A snapshot</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="data-source.html"><a href="data-source.html"><i class="fa fa-check"></i><b>3</b> Data source</a><ul>
<li class="chapter" data-level="3.1" data-path="data-source.html"><a href="data-source.html#data-that-makes-our-work-possible"><i class="fa fa-check"></i><b>3.1</b> Data that makes our work possible</a></li>
<li class="chapter" data-level="3.2" data-path="data-source.html"><a href="data-source.html#our-data-dictionary"><i class="fa fa-check"></i><b>3.2</b> Our data dictionary</a></li>
<li class="chapter" data-level="3.3" data-path="data-source.html"><a href="data-source.html#changes-to-datasets"><i class="fa fa-check"></i><b>3.3</b> Changes to datasets</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="data-cleaning.html"><a href="data-cleaning.html"><i class="fa fa-check"></i><b>4</b> Data cleaning</a><ul>
<li class="chapter" data-level="4.1" data-path="data-cleaning.html"><a href="data-cleaning.html#what-did-we-do"><i class="fa fa-check"></i><b>4.1</b> What <strong>did</strong> we do?</a><ul>
<li class="chapter" data-level="4.1.1" data-path="data-cleaning.html"><a href="data-cleaning.html#load-data-select-and-rename-columns"><i class="fa fa-check"></i><b>4.1.1</b> Load data, select and rename columns</a></li>
<li class="chapter" data-level="4.1.2" data-path="data-cleaning.html"><a href="data-cleaning.html#filter-schools-that-have-a-rank"><i class="fa fa-check"></i><b>4.1.2</b> Filter schools that have a rank</a></li>
<li class="chapter" data-level="4.1.3" data-path="data-cleaning.html"><a href="data-cleaning.html#join-datasets"><i class="fa fa-check"></i><b>4.1.3</b> Join datasets</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="visualization.html"><a href="visualization.html"><i class="fa fa-check"></i><b>5</b> Visualization</a><ul>
<li class="chapter" data-level="5.1" data-path="visualization.html"><a href="visualization.html#st-2nd-peeks"><i class="fa fa-check"></i><b>5.1</b> 1st &amp; 2nd Peeks</a></li>
<li class="chapter" data-level="5.2" data-path="visualization.html"><a href="visualization.html#rd-peek"><i class="fa fa-check"></i><b>5.2</b> 3rd Peek</a></li>
<li class="chapter" data-level="5.3" data-path="visualization.html"><a href="visualization.html#th-peek"><i class="fa fa-check"></i><b>5.3</b> 4th Peek</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="bayesian-models-part-1-1-university.html"><a href="bayesian-models-part-1-1-university.html"><i class="fa fa-check"></i><b>6</b> Bayesian Models Part 1.1 University</a><ul>
<li class="chapter" data-level="6.1" data-path="bayesian-models-part-1-1-university.html"><a href="bayesian-models-part-1-1-university.html#model-0"><i class="fa fa-check"></i><b>6.1</b> Model 0</a><ul>
<li class="chapter" data-level="6.1.1" data-path="bayesian-models-part-1-1-university.html"><a href="bayesian-models-part-1-1-university.html#first-impression"><i class="fa fa-check"></i><b>6.1.1</b> First Impression</a></li>
<li class="chapter" data-level="6.1.2" data-path="bayesian-models-part-1-1-university.html"><a href="bayesian-models-part-1-1-university.html#building-the-model"><i class="fa fa-check"></i><b>6.1.2</b> Building the model</a></li>
<li class="chapter" data-level="6.1.3" data-path="bayesian-models-part-1-1-university.html"><a href="bayesian-models-part-1-1-university.html#model-summary"><i class="fa fa-check"></i><b>6.1.3</b> Model summary</a></li>
<li class="chapter" data-level="6.1.4" data-path="bayesian-models-part-1-1-university.html"><a href="bayesian-models-part-1-1-university.html#posterior-inference"><i class="fa fa-check"></i><b>6.1.4</b> Posterior inference</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="bayesian-models-part-1-1-university.html"><a href="bayesian-models-part-1-1-university.html#model-1"><i class="fa fa-check"></i><b>6.2</b> Model 1</a><ul>
<li class="chapter" data-level="6.2.1" data-path="bayesian-models-part-1-1-university.html"><a href="bayesian-models-part-1-1-university.html#first-impression-1"><i class="fa fa-check"></i><b>6.2.1</b> First Impression</a></li>
<li class="chapter" data-level="6.2.2" data-path="bayesian-models-part-1-1-university.html"><a href="bayesian-models-part-1-1-university.html#building-the-model-1"><i class="fa fa-check"></i><b>6.2.2</b> Building the model</a></li>
<li class="chapter" data-level="6.2.3" data-path="bayesian-models-part-1-1-university.html"><a href="bayesian-models-part-1-1-university.html#model-summary-1"><i class="fa fa-check"></i><b>6.2.3</b> Model summary</a></li>
<li class="chapter" data-level="6.2.4" data-path="bayesian-models-part-1-1-university.html"><a href="bayesian-models-part-1-1-university.html#posterior-inference-1"><i class="fa fa-check"></i><b>6.2.4</b> Posterior inference</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="bayesian-models-part-1-1-university.html"><a href="bayesian-models-part-1-1-university.html#model-2"><i class="fa fa-check"></i><b>6.3</b> Model 2</a><ul>
<li class="chapter" data-level="6.3.1" data-path="bayesian-models-part-1-1-university.html"><a href="bayesian-models-part-1-1-university.html#first-impression-2"><i class="fa fa-check"></i><b>6.3.1</b> First Impression</a></li>
<li class="chapter" data-level="6.3.2" data-path="bayesian-models-part-1-1-university.html"><a href="bayesian-models-part-1-1-university.html#building-the-model-2"><i class="fa fa-check"></i><b>6.3.2</b> Building the model</a></li>
<li class="chapter" data-level="6.3.3" data-path="bayesian-models-part-1-1-university.html"><a href="bayesian-models-part-1-1-university.html#model-summary-2"><i class="fa fa-check"></i><b>6.3.3</b> Model summary</a></li>
<li class="chapter" data-level="6.3.4" data-path="bayesian-models-part-1-1-university.html"><a href="bayesian-models-part-1-1-university.html#posterior-inference-2"><i class="fa fa-check"></i><b>6.3.4</b> Posterior inference</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="bayesian-models-part-1-1-university.html"><a href="bayesian-models-part-1-1-university.html#future-steps"><i class="fa fa-check"></i><b>6.4</b> Future steps</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="bayesian-models-part-1-2-liberal-arts.html"><a href="bayesian-models-part-1-2-liberal-arts.html"><i class="fa fa-check"></i><b>7</b> Bayesian Models Part 1.2 Liberal Arts</a><ul>
<li class="chapter" data-level="7.1" data-path="bayesian-models-part-1-2-liberal-arts.html"><a href="bayesian-models-part-1-2-liberal-arts.html#model-0-1"><i class="fa fa-check"></i><b>7.1</b> Model 0</a><ul>
<li class="chapter" data-level="7.1.1" data-path="bayesian-models-part-1-2-liberal-arts.html"><a href="bayesian-models-part-1-2-liberal-arts.html#first-impression-3"><i class="fa fa-check"></i><b>7.1.1</b> First Impression</a></li>
<li class="chapter" data-level="7.1.2" data-path="bayesian-models-part-1-2-liberal-arts.html"><a href="bayesian-models-part-1-2-liberal-arts.html#building-the-model-3"><i class="fa fa-check"></i><b>7.1.2</b> Building the model</a></li>
<li class="chapter" data-level="7.1.3" data-path="bayesian-models-part-1-2-liberal-arts.html"><a href="bayesian-models-part-1-2-liberal-arts.html#model-summary-3"><i class="fa fa-check"></i><b>7.1.3</b> Model summary</a></li>
<li class="chapter" data-level="7.1.4" data-path="bayesian-models-part-1-2-liberal-arts.html"><a href="bayesian-models-part-1-2-liberal-arts.html#posterior-inference-3"><i class="fa fa-check"></i><b>7.1.4</b> Posterior inference</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="bayesian-models-part-1-2-liberal-arts.html"><a href="bayesian-models-part-1-2-liberal-arts.html#model-1-1"><i class="fa fa-check"></i><b>7.2</b> Model 1</a></li>
<li class="chapter" data-level="7.3" data-path="bayesian-models-part-1-2-liberal-arts.html"><a href="bayesian-models-part-1-2-liberal-arts.html#model-2-1"><i class="fa fa-check"></i><b>7.3</b> Model 2</a><ul>
<li class="chapter" data-level="7.3.1" data-path="bayesian-models-part-1-2-liberal-arts.html"><a href="bayesian-models-part-1-2-liberal-arts.html#first-impression-4"><i class="fa fa-check"></i><b>7.3.1</b> First Impression</a></li>
<li class="chapter" data-level="7.3.2" data-path="bayesian-models-part-1-2-liberal-arts.html"><a href="bayesian-models-part-1-2-liberal-arts.html#building-the-model-4"><i class="fa fa-check"></i><b>7.3.2</b> Building the model</a></li>
<li class="chapter" data-level="7.3.3" data-path="bayesian-models-part-1-2-liberal-arts.html"><a href="bayesian-models-part-1-2-liberal-arts.html#model-summary-4"><i class="fa fa-check"></i><b>7.3.3</b> Model summary</a></li>
<li class="chapter" data-level="7.3.4" data-path="bayesian-models-part-1-2-liberal-arts.html"><a href="bayesian-models-part-1-2-liberal-arts.html#posterior-inference-4"><i class="fa fa-check"></i><b>7.3.4</b> Posterior inference</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="bayesian-models-part-1-2-liberal-arts.html"><a href="bayesian-models-part-1-2-liberal-arts.html#future-steps-1"><i class="fa fa-check"></i><b>7.4</b> Future steps</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="bayesian-models-part-2.html"><a href="bayesian-models-part-2.html"><i class="fa fa-check"></i><b>8</b> Bayesian Models Part 2</a><ul>
<li class="chapter" data-level="8.1" data-path="bayesian-models-part-2.html"><a href="bayesian-models-part-2.html#possible-data-cleaning"><i class="fa fa-check"></i><b>8.1</b> Possible data cleaning?</a></li>
<li class="chapter" data-level="8.2" data-path="bayesian-models-part-2.html"><a href="bayesian-models-part-2.html#on-the-way-to-final-model"><i class="fa fa-check"></i><b>8.2</b> On the way to Final Model</a></li>
<li class="chapter" data-level="8.3" data-path="bayesian-models-part-2.html"><a href="bayesian-models-part-2.html#what-are-we-thinking"><i class="fa fa-check"></i><b>8.3</b> What are we thinking?</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="becoming-a-proud-bayesian.html"><a href="becoming-a-proud-bayesian.html"><i class="fa fa-check"></i><b>9</b> Becoming a proud Bayesian</a><ul>
<li class="chapter" data-level="9.1" data-path="becoming-a-proud-bayesian.html"><a href="becoming-a-proud-bayesian.html#university-model"><i class="fa fa-check"></i><b>9.1</b> University Model</a><ul>
<li class="chapter" data-level="9.1.1" data-path="becoming-a-proud-bayesian.html"><a href="becoming-a-proud-bayesian.html#get-some-intuition"><i class="fa fa-check"></i><b>9.1.1</b> Get some intuition</a></li>
<li class="chapter" data-level="9.1.2" data-path="becoming-a-proud-bayesian.html"><a href="becoming-a-proud-bayesian.html#some-additional-intuition"><i class="fa fa-check"></i><b>9.1.2</b> Some additional intuition</a></li>
<li class="chapter" data-level="9.1.3" data-path="becoming-a-proud-bayesian.html"><a href="becoming-a-proud-bayesian.html#building-the-model-5"><i class="fa fa-check"></i><b>9.1.3</b> Building the model</a></li>
<li class="chapter" data-level="9.1.4" data-path="becoming-a-proud-bayesian.html"><a href="becoming-a-proud-bayesian.html#model-summary-5"><i class="fa fa-check"></i><b>9.1.4</b> Model summary</a></li>
<li class="chapter" data-level="9.1.5" data-path="becoming-a-proud-bayesian.html"><a href="becoming-a-proud-bayesian.html#posterior-inference-5"><i class="fa fa-check"></i><b>9.1.5</b> Posterior inference</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="becoming-a-proud-bayesian.html"><a href="becoming-a-proud-bayesian.html#liberal-arts-colleges"><i class="fa fa-check"></i><b>9.2</b> Liberal Arts Colleges</a><ul>
<li class="chapter" data-level="9.2.1" data-path="becoming-a-proud-bayesian.html"><a href="becoming-a-proud-bayesian.html#get-some-intuition-1"><i class="fa fa-check"></i><b>9.2.1</b> Get some intuition</a></li>
<li class="chapter" data-level="9.2.2" data-path="becoming-a-proud-bayesian.html"><a href="becoming-a-proud-bayesian.html#building-the-model-6"><i class="fa fa-check"></i><b>9.2.2</b> Building the model</a></li>
<li class="chapter" data-level="9.2.3" data-path="becoming-a-proud-bayesian.html"><a href="becoming-a-proud-bayesian.html#model-summary-6"><i class="fa fa-check"></i><b>9.2.3</b> Model summary</a></li>
<li class="chapter" data-level="9.2.4" data-path="becoming-a-proud-bayesian.html"><a href="becoming-a-proud-bayesian.html#posterior-inference-6"><i class="fa fa-check"></i><b>9.2.4</b> Posterior inference</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="becoming-a-proud-bayesian.html"><a href="becoming-a-proud-bayesian.html#comparison-and-discussion"><i class="fa fa-check"></i><b>9.3</b> Comparison and discussion</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="a-little-shiny.html"><a href="a-little-shiny.html"><i class="fa fa-check"></i><b>10</b> A Little Shiny</a><ul>
<li class="chapter" data-level="10.1" data-path="a-little-shiny.html"><a href="a-little-shiny.html#shiny-app"><i class="fa fa-check"></i><b>10.1</b> Shiny App</a></li>
<li class="chapter" data-level="10.2" data-path="a-little-shiny.html"><a href="a-little-shiny.html#in-case-youre-curious"><i class="fa fa-check"></i><b>10.2</b> In case you’re curious</a><ul>
<li class="chapter" data-level="10.2.1" data-path="a-little-shiny.html"><a href="a-little-shiny.html#code-for-shiny-app-collegeranking"><i class="fa fa-check"></i><b>10.2.1</b> Code for Shiny App “collegeranking”</a></li>
<li class="chapter" data-level="10.2.2" data-path="a-little-shiny.html"><a href="a-little-shiny.html#code-for-shiny-app-universityranking"><i class="fa fa-check"></i><b>10.2.2</b> Code for Shiny App “UniversityRanking”</a></li>
</ul></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">MATH 454 Bayesian Statistics - College Ranking</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="bayesian-models-part-2" class="section level1">
<h1><span class="header-section-number">Chapter 8</span> Bayesian Models Part 2</h1>
<p><strong>HINT: After you start SIMPLE, everything suddenly goes really complicated.</strong></p>
<p>After the last checkpoint, we realize that ranking is not the sole factor in students’ choice (sometimes not even an important factor). To accurately represent the school selection process, we find it more appropriate to create a new concept called <strong>Fitness Index</strong> that measures the level of fitness between the student and schools.</p>
<p>We intend to create a Shiny App for students interested in finding colleges. Finding inputing predictive variables, the system will provide a list of top liberal arts colleges and universities.</p>
<table>
<colgroup>
<col width="24%" />
<col width="39%" />
<col width="35%" />
</colgroup>
<thead>
<tr class="header">
<th>User Input in the Shiny App</th>
<th>Description</th>
<th>How users input</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Size of school (UGDS)</td>
<td>number of undergraduate degree-seeking students</td>
<td>Users can select one or more ranges below: (0,1000); (1000,1800); (1800,2500); (2500+)</td>
</tr>
<tr class="even">
<td>SAT Scores (SAT_AVG)</td>
<td>combined SAT average by year, interchangeable with SAT</td>
<td>Users can input their own SAT score. Our system will compare it with average SAT scores of each college and calculate students’ compatibility. (ACT score will be automatically transformed.)</td>
</tr>
<tr class="odd">
<td>A college’s region (REGION)</td>
<td>region-wise (e.g. Minnesota is in the Plains region)</td>
<td>This is a decisive check-off box. Users can filter away regions where they don’t want to attend college.</td>
</tr>
<tr class="even">
<td>Setting (LOCALE)</td>
<td>setting (large city, small town, etc.)</td>
<td>This is a low weight variable where students can state their preference of the geographical location of colleges. Colleges that fit their description will be considered more <strong>compatible</strong> with students; schools will not be eliminated solely by this factor.</td>
</tr>
<tr class="odd">
<td>Average Cost Per Year (COSTT4_A)</td>
<td>average cost of attendance per year</td>
<td>Users can use a slidebar to set their preferred full tuition range.</td>
</tr>
<tr class="even">
<td>Racial diversity (UGDS_WHITE)</td>
<td>racial diversity by the percentage of white students</td>
<td>Users can select a preferred percentage. Schools with an incompatible percentage (&gt;15% net difference) will be punished by the algorithm; schools will only be eliminated solely by this factor if net difference &gt; 35%.</td>
</tr>
</tbody>
</table>
<p> </p>
<p>But still, ranking plays an important role in students’ decision making process! We will keep working on predicting rankings and fitness with these in mind.</p>
<div id="possible-data-cleaning" class="section level2">
<h2><span class="header-section-number">8.1</span> Possible data cleaning?</h2>
<p><strong>“Zuofu was on his way to create the best Bayesian model in the world when his dream got crushed.”</strong> –Zuofu</p>
<p>We were experimenting with our final model of rankings ~ predictors when we found out that more schools than we estimated had NA in their SAT score section (do not provide standardized test scores). We subsequently found that NAs exist throughout our dataset.</p>
<p>Since our final goal is to create an interactive tool for students to evaluate their compatibility with colleges, we decide to <em>leave these NAs alone</em> until the final phase. The working plan is to re-weigh variables when building our fitness index algorithm. The weight of NA variables will be set to <span class="math inline">\(0\)</span> by an if statement, and other variables will have a higher weight proportionally in correspondence.</p>
<p><strong>“Wait for it. We will come back later to deal with you!”</strong> –Zuofu again</p>
</div>
<div id="on-the-way-to-final-model" class="section level2">
<h2><span class="header-section-number">8.2</span> On the way to Final Model</h2>
<p>This is when we realize not all factors play an essential role in the college ranking algorithm. To check our understanding, we build a quick linear regression model. From its summary and anova table, we recognize the important factors: <em>size of undergraduate student</em>, <em>SAT score</em>, <em>admission rate</em>, <em>location</em> and of course <em>intercept</em>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">LinearModel &lt;-<span class="st"> </span><span class="kw">lm</span>(<span class="kw">as.numeric</span>(Y2018) <span class="op">~</span><span class="st"> </span>UGDS_<span class="dv">1617</span> <span class="op">+</span><span class="st"> </span>LOCALE_collapse <span class="op">+</span><span class="st"> </span>SAT_AVG_<span class="dv">1617</span> <span class="op">+</span><span class="st"> </span>ADM_RATE_<span class="dv">1617</span> <span class="op">+</span><span class="st"> </span>COSTT4_A_<span class="dv">1617</span> <span class="op">+</span><span class="st"> </span>UGDS_WHITE_<span class="dv">1617</span>, fullUniversity)</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">summary</span>(LinearModel)</code></pre></div>
<pre><code>## 
## Call:
## lm(formula = as.numeric(Y2018) ~ UGDS_1617 + LOCALE_collapse + 
##     SAT_AVG_1617 + ADM_RATE_1617 + COSTT4_A_1617 + UGDS_WHITE_1617, 
##     data = fullUniversity)
## 
## Residuals:
##     Min      1Q  Median      3Q     Max 
## -91.881  -6.717  -1.486   9.020  40.251 
## 
## Coefficients:
##                         Estimate Std. Error t value Pr(&gt;|t|)    
## (Intercept)            2.014e+02  4.395e+01   4.584 1.26e-05 ***
## UGDS_1617             -6.681e-04  2.186e-04  -3.057  0.00283 ** 
## LOCALE_collapseSuburb -3.084e+00  4.007e+00  -0.770  0.44318    
## LOCALE_collapseTown    6.109e+00  8.877e+00   0.688  0.49285    
## SAT_AVG_1617          -1.260e-01  3.035e-02  -4.150 6.74e-05 ***
## ADM_RATE_1617          8.617e+01  1.633e+01   5.276 7.04e-07 ***
## COSTT4_A_1617         -1.126e-04  1.540e-04  -0.731  0.46639    
## UGDS_WHITE_1617        2.020e+00  1.107e+01   0.183  0.85552    
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## Residual standard error: 16.61 on 106 degrees of freedom
##   (6 observations deleted due to missingness)
## Multiple R-squared:  0.814,  Adjusted R-squared:  0.8017 
## F-statistic: 66.27 on 7 and 106 DF,  p-value: &lt; 2.2e-16</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">anova</span>(LinearModel)</code></pre></div>
<pre><code>## Analysis of Variance Table
## 
## Response: as.numeric(Y2018)
##                  Df Sum Sq Mean Sq  F value    Pr(&gt;F)    
## UGDS_1617         1   8699    8699  31.5151 1.600e-07 ***
## LOCALE_collapse   2   3730    1865   6.7556  0.001732 ** 
## SAT_AVG_1617      1 104898  104898 380.0200 &lt; 2.2e-16 ***
## ADM_RATE_1617     1  10545   10545  38.2011 1.208e-08 ***
## COSTT4_A_1617     1    161     161   0.5816  0.447366    
## UGDS_WHITE_1617   1      9       9   0.0333  0.855516    
## Residuals       106  29259     276                       
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1</code></pre>
<p>OMG, what happened to the <strong>cost</strong> vairbale? Is it because I put the cost variable COSTT4_A_1617 in the last but two?</p>
<p>In the spirit of scientific experiment (which Kavya and Zuofu happen to have), we switch the order of our linear model and produce another anova test:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">LinearModel2 &lt;-<span class="st"> </span><span class="kw">lm</span>(<span class="kw">as.numeric</span>(Y2018) <span class="op">~</span><span class="st"> </span>UGDS_<span class="dv">1617</span> <span class="op">+</span><span class="st"> </span>LOCALE_collapse <span class="op">+</span><span class="st"> </span>COSTT4_A_<span class="dv">1617</span> <span class="op">+</span><span class="st"> </span>SAT_AVG_<span class="dv">1617</span> <span class="op">+</span><span class="st"> </span>ADM_RATE_<span class="dv">1617</span> <span class="op">+</span><span class="st"> </span>UGDS_WHITE_<span class="dv">1617</span>, fullUniversity)</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">anova</span>(LinearModel2)</code></pre></div>
<pre><code>## Analysis of Variance Table
## 
## Response: as.numeric(Y2018)
##                  Df Sum Sq Mean Sq  F value    Pr(&gt;F)    
## UGDS_1617         1   8699    8699  31.5151 1.600e-07 ***
## LOCALE_collapse   2   3730    1865   6.7556  0.001732 ** 
## COSTT4_A_1617     1  39446   39446 142.9020 &lt; 2.2e-16 ***
## SAT_AVG_1617      1  66224   66224 239.9151 &lt; 2.2e-16 ***
## ADM_RATE_1617     1   9933    9933  35.9857 2.802e-08 ***
## UGDS_WHITE_1617   1      9       9   0.0333  0.855516    
## Residuals       106  29259     276                       
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1</code></pre>
<p>Certainly, cost remains one of the most important factors for students in the process of college selection. We also acknowledge the significant role that scholarships and financial aids play. However, the order switch experiment sufficiently shows that other variables explain an equal amount of variability.</p>
</div>
<div id="what-are-we-thinking" class="section level2">
<h2><span class="header-section-number">8.3</span> What are we thinking?</h2>
<p>From above, we made a final decision of incorporating the following variables into our Bayesian model of rankings: size of undergraduate student, SAT score, admission rate and location.</p>
<p>To see how we do with universities and liberal arts colleges, check out our next chapter: <strong>Becoming a proud Bayesian</strong>.</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="bayesian-models-part-1-2-liberal-arts.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="becoming-a-proud-bayesian.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "section",
"scroll_highlight": true
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(src))
      src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
